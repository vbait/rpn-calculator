(this["webpackJsonprpn-calculator"]=this["webpackJsonprpn-calculator"]||[]).push([[0],{21:function(e,a,t){e.exports=t(31)},26:function(e,a,t){},27:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),o=t.n(c);t(26);var i=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand mr-auto mr-lg-0",href:"."},"RPN Calculator"))},u=t(9),l=t(6),s=t(5),m=t(20),f=t(19);function d(e,a){var t=Object.entries(e).map((function(e){var a=Object(l.a)(e,2)[1].regex;return"".concat(a)})).join("|");return new RegExp("^((-?\\d+\\.?\\d*".concat(a,")|(-?\\d*\\.?\\d+").concat(a,")|((").concat(t,")").concat(a,"))*((-?\\d+\\.?\\d*)|(-?\\d*\\.?\\d+)|(").concat(t,"))$"))}var p={name:" ",regex:" "};var v=function(){var e=this,a=[],t={},n=new RegExp;this.operators=function(){return Object.keys(t)},this.separator=function(){return p},this.numbers=function(){return[].concat(a)},this.addOperators=function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return r.forEach((function(e){t[e.name]=e})),n=d(t,p.regex),e},this.push=function(n){e.validate(n);var r=[].concat(a);n.split(p.name).forEach((function(e){if(t[e]){var a=t[e],n=a.fn,c=a.countOperands;if(l=c,!(r.length>=l))throw Error("Too many operators.");var o=r.splice(-1*c,c),i=parseFloat(n.apply(void 0,Object(u.a)(o)));if(Number.isNaN(i)||i===1/0)throw Error('Cannot use operator "'.concat(e,'" to values ').concat(o.join(" "),"."));r.push(i)}else{if(Number.isNaN(e)||Number.isNaN(parseFloat(e)))throw Error('Value "'.concat(e,'" is not a number.'));r.push(parseFloat(e))}var l})),a.splice.apply(a,[0,a.length].concat(Object(u.a)(r)))},this.validate=function(e){if(!n.test(e))throw Error("Input value is not valid.")},this.reset=function(){a.splice(0,a.length)}};var b=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;this.name=e,this.regex=t||"\\".concat(e),this.countOperands=n,this.fn=a},h=[7,8,9,4,5,6,1,2,3],E=(t(27),new v);E.addOperators(new b("+",(function(e,a){return e+a})),new b("-",(function(e,a){return e-a})),new b("*",(function(e,a){return e*a})),new b("/",(function(e,a){return e/a})));var O=E.separator(),g=new RegExp("(".concat(O.regex,"){2,}"),"g");function k(e){var a=e.operators,t=Object(n.useRef)(),c=Object(n.useState)(E.operators()),o=Object(l.a)(c,2),i=o[0],d=o[1],p=Object(n.useState)(E.numbers()),v=Object(l.a)(p,2),b=v[0],k=v[1],j=Object(n.useState)(""),w=Object(l.a)(j,2),y=w[0],N=w[1],C=Object(n.useState)(),x=Object(l.a)(C,2),R=x[0],S=x[1],F=Object(n.useState)(!1),q=Object(l.a)(F,2),M=q[0],B=q[1],I=Object(n.useCallback)((function(){B((function(e){return!e}))}),[B]),J=Object(n.useCallback)((function(e){var a=e.replace(g,O.name);S(),N(a),t.current.focus()}),[N,S,t]),L=Object(n.useCallback)((function(){try{E.push(y.trim()),N(""),k(E.numbers())}catch(e){S(e.message)}}),[S,N,k,y]),P=Object(n.useCallback)((function(){S(),N((function(e){return e.slice(0,-1)})),t.current.focus()}),[S,N]),W=Object(n.useCallback)((function(){N(""),S()}),[N]),$=Object(n.useCallback)((function(){E.reset(),N(""),S(),k(E.numbers())}),[N]),A=Object(n.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),L())}),[L]);Object(n.useEffect)((function(){var e=t.current;return e.addEventListener("keyup",A),function(){e.removeEventListener("keyup",A)}}),[t,A]),Object(n.useEffect)((function(){E.addOperators.apply(E,Object(u.a)(a)),d(E.operators())}),[a,d]);var D=Object(n.useMemo)((function(){return function(e,a){var t=0,n=e.length,r=[];for(t=0;t<n;t+=a){var c=e.slice(t,t+a);r.push(c)}return r}(i,4)}),[i]);return(r.a.createElement("div",{className:"calculator"},r.a.createElement("div",{className:"filter"},r.a.createElement(m.a.Check,{type:"checkbox",id:"id_readonly",label:"Readonly",checked:M,onChange:I})),r.a.createElement("div",{className:"display"},r.a.createElement("input",{type:"text",value:y,onChange:function(e){return J(e.target.value)},className:"form-control",readOnly:M,ref:t})),r.a.createElement("div",{className:"display"},r.a.createElement("textarea",{className:"form-control",readOnly:!0,rows:"2",disabled:!0,value:b.join(" ")}),!!R&&r.a.createElement(f.a,{variant:"danger"},R)),r.a.createElement("div",{className:"reset"},r.a.createElement(s.a,{variant:"danger",onClick:P,disabled:!y},"<-"),r.a.createElement(s.a,{variant:"danger",onClick:W,disabled:!y},"CE"),r.a.createElement(s.a,{variant:"danger",onClick:$,disabled:!b.length&&!y},"C")),r.a.createElement("div",{className:"calculator-container"},r.a.createElement("div",{className:"numbers"},h.map((function(e){return r.a.createElement(s.a,{key:e,onClick:function(){return J(y+e)}},e)})),r.a.createElement(s.a,{onClick:function(){return J("".concat(y,"0"))},className:"double"},"0"),r.a.createElement(s.a,{onClick:function(){return J("".concat(y,"."))}},".")),D.map((function(e,a){return r.a.createElement("div",{key:a,className:"operations"},e.map((function(e){return r.a.createElement(s.a,{key:e,onClick:function(){return J(y+e)},variant:"secondary"},e)})))}))),r.a.createElement("div",{className:"manipulate"},r.a.createElement(s.a,{onClick:function(){return J(y+O.name)},disabled:!y,variant:"info"},"space"),r.a.createElement(s.a,{onClick:L,disabled:!y||!!R,variant:"info"},"apply"))))}k.defaultProps={operators:[]};var j=k,w=[new b("sqrt",(function(e){return Math.sqrt(e)}),"sqrt",1),new b("^",(function(e,a){return Math.pow(e,a)}),"\\^",2),new b("%",(function(e,a){return e/100*a}),"\\%",2)];var y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement("div",{className:"p-3 my-3"},r.a.createElement(j,{operators:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.afbd017c.chunk.js.map